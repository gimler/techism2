{% extends "base.html" %}

{% block head %}
{% if event.location.latitude > 0 and event.location.longitude > 0 %}
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
  
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
  
  <script type="text/javascript">
  
  function initialize() {
    var latlng = new google.maps.LatLng({{event.location.latitude}}, {{event.location.longitude}});
    var myOptions = {
      zoom: 15,
      center: latlng,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    };
    var map = new google.maps.Map(document.getElementById("map_canvas"),
        myOptions);
    
    var marker = new google.maps.Marker({
      position: latlng, 
      map: map
    });   
    
  }
  google.maps.event.addDomListener(window, 'load', initialize);
</script>
{% endif %}
{% endblock %}




{% block content %}
  {% if event %}
      <h3>{{ event.title }}</h3>
      <p><label>Beginn:</label> {{ event.dateBegin }}</p>
      <p><label>Url:</label> <a href="{{ event.url }}">{{ event.url }}</a></p>
      <p><label>Beschreibung:</label> {{ event.description }}</p>
    
      <label>Veranstaltungsort:</label> {{event.location.name}}<br>
      <label></label>    {{event.location.street}}<br>
      <label></label>   {{event.location.city}}
    {% if event.location.latitude and event.location.longitude %}
      <div id="map_canvas" style="height: 400px; width: 600px"></div>
    {% endif %}
  {% else %}
      <p>No events are available.</p>
  {% endif %}
  <a href="/events">zur&uuml;ck zur &Uuml;bersicht</a>
{% endblock %}



{% block scripts %}

{% endblock %}