{% extends "base.html" %}

{% block head %}
{% if event.location.latitude > 0 and event.location.longitude > 0 %}
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
  <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
  
  <script type="text/javascript">
  function initialize() {
    var latlng = new google.maps.LatLng({{event.location.latitude}}, {{event.location.longitude}});
    var myOptions = {
      zoom: 15,
      center: latlng,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    };
    var map = new google.maps.Map(document.getElementById("map_canvas"),
        myOptions);
    
    var marker = new google.maps.Marker({
      position: latlng, 
      map: map
    });   
    
  }
  google.maps.event.addDomListener(window, 'load', initialize);
</script>
{% endif %}
{% endblock %}




{% block content %}
  {% if event %}
            <h3><a href="/events/{{ event.id }}/">{{ event.title }}</a></h3>
            {{ event.dateBegin }}<br>
            <a href="{{ event.url }}">{{ event.url }}</a><br>
            {{ event.description }}<br>
            {% if event.location.latitude and event.location.longitude %}
              <div id="map_canvas" style="height: 400px; width: 600px"></div>
            {% endif %}
  {% else %}
      <p>No events are available.</p>
  {% endif %}
  <a href="/events">zur&uuml;ck zur &Uuml;bersicht</a>
{% endblock %}