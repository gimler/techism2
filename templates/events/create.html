{% extends "base.html" %}

{% block head %}
  <link type="text/css" href="/static/jquery/css/custom-theme/jquery-ui-1.8.5.custom.css" media="screen" rel="stylesheet"/>
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
  <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
  <script type="text/javascript">
  
  function initialize() {
    var latlng = new google.maps.LatLng(48.13788,11.575953);
    var myOptions = {
      zoom: 15,
      center: latlng,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    };
    var map = new google.maps.Map(document.getElementById("map_canvas"),
        myOptions);
    
    var marker = new google.maps.Marker({
      position: latlng, 
      map: map
    });   
    
  }
  google.maps.event.addDomListener(window, 'load', initialize);
</script>
{% endblock %}


{% block content %}
<section id="content">
    {% if not user.is_authenticated %}
    Du bist nicht eingeloggt. Wenn Du Dich <a href="/accounts/login/">einloggst</a>, wird
    das Event mit Deinem Account verknüpft und Du kannst das Event später bearbeiten.
    {% endif %}

  <form action="/events/create/" method="post">    
    {% csrf_token %}
    {{ form.id }}
    {{ form.title.label_tag }} {{ form.title }}<br>
    {{ form.dateBegin.label_tag }} {{ form.dateBegin }}<br>
    {{ form.dateEnd.label_tag }} {{ form.dateEnd }}<br>
    {{ form.url.label_tag }} {{ form.url }}<br>
    {{ form.description.label_tag }} {{ form.description  }}<br>
    {{ form.tags.label_tag }} {{ form.tags }}<br><br> 
    <b>{{ form.location.label_tag }}</b><br>
    vorhandene  auswählen: {{ form.location }}<br>
    oder neue anlegen:<br>
    {{ form.location_name.label_tag }} {{ form.location_name }}<br>
    {{ form.location_street.label_tag }} {{ form.location_street }}<br>
    {{ form.location_city.label_tag }} {{ form.location_city }}<br>
    <input type="submit" value="Veranstaltung Eintragen" />
  </form>
  <div id="map_canvas" style="height: 400px; width: 600px"></div>
</section>
{% endblock %}


{% block scripts %}
  <script type="text/javascript">
     $(function() {
         $("#id_dateBegin").datepicker({ dateFormat: 'yy-mm-dd' });
         $("#id_dateEnd").datepicker({ dateFormat: 'yy-mm-dd' });
     });
  </script>
{% endblock %}